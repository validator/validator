<html>
<head>
<title>DTDinst</title>
</head>
<body>
<h1>DTDinst</h1>

<p>Copyright &#169; 2001 Thai Open Source Software Center Ltd</p>

<p>See the file <a href="copying.txt">copying.txt</a> for copying
permission.</p>

<h3>Version @VERSION@</h3>

<p>DTDinst is a program for converting XML DTDs into XML instance
format. The XML instance can be in either a <a
href="#format">format</a> specific to DTDinst or can be in <a
href="http://relaxng.org">RELAX NG</a> format.</p>

<p>@@@ benefits</p>

<h2>Getting DTDinst</h2>

<p>DTDinst is available as a precompiled <a href="dtdinst.jar">JAR</a>
file.  The <a href="dtdinst-src.zip">source</a> is also available.</p>

<p>You also need to have a <a
href="http://java.sun.com/j2se/1.3/jre/index.html">Java runtime
environment</a> installed on your system.</p>

<h2>Running DTDinst</h2>

<p>To run DTDinst, use a command of the form:</p>

<pre>java -jar dtdinst.jar [ -r <var>dir</var> ] <var>DTD</var></pre>

<p>The <code><var>DTD</var></code> argument can be either a file or a
URL.</p>

<p>If the <code>-r</code> option is not specified, DTDinst writes an
XML representation of the DTD in <a href="#format">DTDinst format</a>
to the standard output. For example, the command</p>

<pre>java -jar dtdinst.jar http://www.w3.org/XML/1998/06/xmlspec-v21.dtd >xmlspec.xml</pre>

<p>would write an XML representation of the W3C xmlspec DTD to the
file <code>xmlspec.xml</code>.</p>

<p>With the <code>-r</code> option, DTDinst writes one or more files
containing a RELAX NG schema to the directory
<code><var>dir</var></code>. For example, the command</p>

<pre>java -jar dtdinst.jar -r relax http://www.xml.gr.jp/relax/relaxCore.dtd</pre>

<p>would write a RELAX NG schema for RELAX Core to the directory
<code>relax</code>. The directory would contain a
<code>relaxCore.rng</code> file corresponding to
<code>relaxCore.dtd</code>, and would also contain a
<code>datatypes.rng</code> file corresponding to
<code>datatypes.rng</code>, which is referenced by
<code>relaxCore.dtd</code>.</p>

<h2><a name="format">DTDinst format</a></h2>

<p>The DTDinst format is designed to represent the parameterization of
the DTD as fully as possible.</p>

<p>There is a <a href="dtdinst.rngnx.txt">schema</a> for this format
in <a href="http://www.thaiopensource.com/relaxng/nonxml/">RELAX NG
non-XML syntax</a>; the schema is also <a
href="dtdinst.rng">available</a> in <a
href="http://www.relaxng.org">RELAX NG</a> format.</p>

<p>Describe various kinds of parameter entity with examples</p>

<h2>Sample DTDs</h2>

<p>You may find it interesting to experiment with the following XML DTDs
which are available online:</p>

<ul>
<li><a href="http://www.xml.gr.jp/relax/relaxCore.dtd">RELAX Core</a></li>
<li><a href="http://www.w3.org/XML/1998/06/xmlspec-v21.dtd">XMLSpec</a></li>
<li><a href="http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">DocBook</a></li>
<li><a href="http://www.w3.org/TR/2001/REC-xhtml11-20010531/DTD/xhtml11.dtd">XHTML</a></li>
</ul>

<h2>Limitations</h2>

<p>DTDinst does not attempt to understand the contents of ignored
conditional sections: DTDinst format represents the contents of an
ignored section as a string.  If you wish to preserve information
about conditional sections, you should therefore make as many
conditional sections as possible be included marked sections rather
than ignored marked sections.  You can do this by creating a wrapper
DTD that declares parameter entities as <code>INCLUDE</code> and then
references the real DTD. For example, you might use this <a
href="teixml.dtd.txt">wrapper DTD</a> to convert the <a
href="http://www.tei-c.org/P4X/DTD/">TEI P4 DTD</a>.</p>

<p>The conversion to RELAX NG preserves neither conditional sections
nor overridden parameter entity declarations.  If you need to preserve
these, the recommended approach is to generate RELAX NG from DTDinst
format using a transformation (perhaps written in XSLT) customized for
for your particular DTD.</p>

<h2>Reporting bugs</h2>

<p>Please send bug reports to <a
href="mailto:jjc@thaiopensource.com">jjc@thaiopensource.com</a>.  Be
sure to include a complete DTD for which DTDinst exhibits the bug.</p>

<address>
<a href="mailto:jjc@thaiopensource.com">James Clark</a>
</address>

</body>
</html>
