<testSuite>
<testCase>
<incorrect>
<thisIsJunk/>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="" schema="a.rng"/>
</rules>
</correct>
<valid>
<a/>
</valid>
<invalid>
<b/>
</invalid>
<invalid>
<a xmlns:x="http://www.example.com" x:foo="whatever"/>
</invalid>
<valid>
<a xmlns="http://www.example.com">
  <a xmlns=""/>
  <a xmlns=""/>
</a>
</valid>
<invalid>
<a xmlns="http://www.example.com">
  <a xmlns=""/>
  <b xmlns=""/>
</a>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<attribute name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <text/>
</attribute>
</resource>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateAttributes ns="" schema="a.rng"/>
</rules>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<group xmlns:eg="http://www.example.com" xmlns="http://relaxng.org/ns/structure/1.0">
  <attribute name="eg:a">
    <value>aval</value>
  </attribute>
  <attribute name="eg:b">
    <value>bval</value>
  </attribute>
</group>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateAttributes ns="http://www.example.com" schema="a.rng"/>
</rules>
</correct>
<valid>
<foo/>
</valid>
<valid>
<foo xmlns:eg="http://www.example.com" eg:a="aval" eg:b="bval"/>
</valid>
<invalid>
<foo xmlns:eg="http://www.example.com" eg:a="aval"/>
</invalid>
<invalid>
<foo xmlns:eg="http://www.example.com" eg:b="bval"/>
</invalid>
<invalid>
<foo xmlns:eg="http://www.example.com" eg:a="aval" eg:b="aval"/>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="" schema="a.rng" prune="true"/>
</rules>
</correct>
<valid>
<a xml:lang="en"/>
</valid>
<valid>
<a>
<b xmlns="http://www.example.com"/>
</a>
</valid>
<invalid>
<a>
<b/>
</a>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="" schema="a.rng"/>
  <strict/>
</rules>
</correct>
<valid>
<a/>
</valid>
<invalid>
<a xmlns="http://www.example.com">
<a xmlns=""/>
</a>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" ns="http://www.example.com" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="http://www.example.com" schema="a.rng"/>
  <strict/>
</rules>
</correct>
<invalid>
<b>
<a xmlns="http://www.example.com"/>
</b>
</invalid>
<valid>
<a xmlns="http://www.example.com"/>
</valid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns" ns="">
  <validateElement ns="" schema="a.rng"/>
</rules>
</incorrect>
</testCase>
<testCase>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns"/>
</correct>
<valid>
<a/>
</valid>
<valid>
<a foo="bar" xml:lang="en">
  <b xmlns="http://www.example.com"/>
</a>
</valid>
</testCase>
<testCase>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns=""/>
</rules>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" ns="http://www.example.com/a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<resource name="b.rng">
<attribute name="b:b" xmlns:b="http://www.example.com/b" xmlns="http://relaxng.org/ns/structure/1.0">
  <text/>
</attribute>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="http://www.example.com/a" schema="a.rng" prune="true"/>
  <validateAttributes ns="http://www.example.com/b" schema="b.rng"/>
</rules>
</correct>
<valid>
<a xmlns="http://www.example.com/a"/>
</valid>
<valid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b"/>
</a>
</valid>
<valid>
<a xmlns="http://www.example.com/a">
  <b:b xmlns:b="http://www.example.com/b" b:a="whatever"/>
</a>
</valid>
<invalid>
<a xmlns="http://www.example.com/a">
  <b xmlns="" xmlns:b="http://www.example.com/b" b:a="whatever"/>
</a>
</invalid>
<valid>
<a xmlns="http://www.example.com/a">
  <b xmlns="" xmlns:b="http://www.example.com/b" b:b="whatever"/>
</a>
</valid>
<valid>
<a xmlns="http://www.example.com/a">
  <b xmlns="">
    <c xmlns:b="http://www.example.com/b" b:b="whatever"/>
  </b>
</a>
</valid>
<invalid>
<a xmlns="http://www.example.com/a">
  <b xmlns="">
    <c xmlns:b="http://www.example.com/b" b:c="whatever"/>
  </b>
</a>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="eg:a" xmlns="http://relaxng.org/ns/structure/1.0"
         xmlns:eg="http://www.example.com">
  <element name="b">
    <empty/>
  </element>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="http://www.example.com" schema="a.rng">
    <cover ns=""/>
  </validateElement>
</rules>
</correct>
<valid>
<eg:a xmlns:eg="http://www.example.com">
  <b/>
</eg:a>
</valid>
<valid>
<a>
<eg:a xmlns:eg="http://www.example.com">
  <b/>
</eg:a>
</a>
</valid>
<invalid>
<eg:a xmlns:eg="http://www.example.com"/>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0"
         ns="http://www.example.com/a">
  <element name="b" ns="http://www.example.com/b">
    <empty/>
  </element>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="http://www.example.com/a" schema="a.rng">
    <cover ns="http://www.example.com/b"/>
  </validateElement>
  <strict/>
</rules>
</correct>
<valid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b"/>
</a>
</valid>
<invalid>
<a>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b"/>
</a>
</a>
</invalid>
<invalid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b"><c/></b>
</a>
</invalid>
<invalid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b" att="val"/>
</a>
</invalid>
<invalid>
<a xmlns="http://www.example.com/a" att="val">
  <b xmlns="http://www.example.com/b"/>
</a>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0"
         ns="http://www.example.com/a">
  <element name="b" ns="http://www.example.com/b">
    <empty/>
  </element>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="http://www.example.com/a" schema="a.rng" prune="true">
    <cover ns="http://www.example.com/b"/>
  </validateElement>
</rules>
</correct>
<valid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b"/>
</a>
</valid>
<invalid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b">
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b"/>
</a>
  </b>
</a>
</invalid>
<valid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b">
    <c xmlns="">
      <a xmlns="http://www.example.com/a">
	<b xmlns="http://www.example.com/b"/>
      </a>
    </c>
  </b>
</a>
</valid>
<invalid>
<a xmlns="http://www.example.com/a">
  <b xmlns="http://www.example.com/b">
    <c xmlns="">
      <a xmlns="http://www.example.com/a">
	<b xmlns="http://www.example.com/b" att="val"/>
      </a>
    </c>
  </b>
</a>
</invalid>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" ns="http://example.com" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="http://example.com" schema="a.rng" useMode="a"/>
</rules>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" ns="http://example.com" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="http://example.com" schema="a.rng" useMode="a" prune="true"/>
  <strict modes="#default"/>
  <lax modes="a"/>
</rules>
</correct>
<valid>
<a xmlns="http://example.com"/>
</valid>
<invalid>
<b><a xmlns="http://example.com"/></b>
</invalid>
<valid>
<a xmlns="http://example.com"><b xmlns=""/></a>
</valid>
<valid>
<a xmlns="http://example.com">
  <b xmlns="">
     <c xmlns="http://example.com"/>
  </b>
</a>
</valid>
</testCase>
<testCase>
<resource name="a.rng">
<grammar xmlns="http://relaxng.org/ns/structure/1.0" ns="http://example.com">
<start>
  <element name="a">
    <ref name="any"/>
  </element>
</start>
<define name="any">
  <zeroOrMore>
    <element>
      <anyName/>
      <ref name="any"/>
    </element>
  </zeroOrMore>
</define>
</grammar>
</resource>
<correct>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement modes="#default a" ns="http://example.com" schema="a.rng" useMode="a"/>
  <strict modes="#default"/>
  <lax modes="a"/>
</rules>
</correct>
<valid>
<eg:a xmlns:eg="http://example.com"/>
</valid>
<invalid>
<eg:b xmlns:eg="http://example.com"/>
</invalid>
<invalid>
<a>
<eg:a xmlns:eg="http://example.com"/>
</a>
</invalid>
<valid>
<eg:a xmlns:eg="http://example.com">
  <eg:b/>
</eg:a>
</valid>
<invalid>
<eg:a xmlns:eg="http://example.com">
  <local>
   <eg:b/>
  </local>
</eg:a>
</invalid>
<valid>
<eg:a xmlns:eg="http://example.com">
  <local>
   <eg:a/>
  </local>
</eg:a>
</valid>
</testCase>
<testCase>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <strict/>
  <strict/>
</rules>
</incorrect>
</testCase>
<testCase>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <strict/>
  <lax/>
</rules>
</incorrect>
</testCase>
<testCase>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <strict modes="a b"/>
  <strict modes="b c"/>
</rules>
</incorrect>
</testCase>
<testCase>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <strict modes="a b a"/>
</rules>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="" schema="a.rng#foo"/>
</rules>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="" schema="a.rng#foo"/>
</rules>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<element name="a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</element>
</resource>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateElement ns="" schema="a.rng"/>
  <validateElement ns="" schema="a.rng"/>
</rules>
</incorrect>
</testCase>
<testCase>
<resource name="a.rng">
<attribute xmlns:eg="http://example.com" name="eg:a" xmlns="http://relaxng.org/ns/structure/1.0">
  <empty/>
</attribute>
</resource>
<incorrect>
<rules xmlns="http://www.thaiopensource.com/ns/mns">
  <validateAttributes ns="http://example.com" schema="a.rng"/>
  <validateAttributes ns="http://example.com" schema="a.rng"/>
</rules>
</incorrect>
</testCase>
</testSuite>
